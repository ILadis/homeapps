<!doctype html>
<html lang="de">
<head>
  <title>Dashboard</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
  <link href="./app/styles.css" rel="stylesheet">
  <script type="module">
  window.onload = async () => {
    const { Timechart, Barchart, Piechart, Gaugechart } = await import('./app/chart.js');
    const Datasets = await import('./app/dataset.js');

    const chart1 = new Timechart();
    chart1.setTitle('Bad');
    chart1.setOrdinate('', value => value.toLocaleString() + ' °C');
    chart1.showTooltips(true);
    chart1.showLegends(false);
    chart1.timeSpan('days');
    chart1.addDataset('Temperatur', Datasets.TemperatureTrend, './api/metrics/1');

    const chart2 = new Timechart();
    chart2.setTitle('Zimmer');
    chart2.setOrdinate('', value => value.toLocaleString() + ' °C');
    chart2.showTooltips(true);
    chart2.showLegends(false);
    chart2.timeSpan('days');
    chart2.addDataset('Temperatur', Datasets.TemperatureTrend, './api/metrics/2');

    const chart3 = new Gaugechart();
    chart3.addDataset('Temperatur: Bad', Datasets.TemperatureValue, './api/metrics/1');

    const chart4 = new Gaugechart();
    chart4.addDataset('Temperatur: Zimmer', Datasets.TemperatureValue, './api/metrics/2');

    const chart5 = new Gaugechart();
    chart5.addDataset('rel. Luftfeuchtigkeit: Bad', Datasets.HumidityValue, './api/metrics/3');

    const chart6 = new Gaugechart();
    chart6.addDataset('rel. Luftfeuchtigkeit: Zimmer', Datasets.HumidityValue, './api/metrics/4');

    const chart7 = new Barchart();
    chart7.setTitle('HTTP Fehler');
    chart7.addDataset('404', Datasets.HttpStatusCodes, './api/metrics/5', '404');

    const chart8 = new Piechart();
    chart8.setTitle('HTTP User-Agents');
    chart8.showLegends(true, 'left');
    chart8.setDataset(Datasets.HttpUserAgents, './api/metrics/5', 7);

    document.body.appendChild(chart3);
    document.body.appendChild(chart5);
    document.body.appendChild(chart1);
    document.body.appendChild(chart4);
    document.body.appendChild(chart6);
    document.body.appendChild(chart2);
    document.body.appendChild(chart7);
    document.body.appendChild(chart8);
  };
  </script>
</head>
</html>
